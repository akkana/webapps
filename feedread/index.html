<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>FeedRead</title>
<link rel="stylesheet" type="text/css" title="Feeds" href="/feedread/feeds/feeds.css">
<link rel="stylesheet" type="text/css" href="pageui.css">
<link rel="stylesheet" type="text/css" href="3dialog.css">

<script src="prefsdb.js"></script>
<script src="feedcache.js"></script>
<script src="pageactions.js"></script>
<script src="3dialog.js"></script>

</head>

<body onload="onPageLoad();">

<header id="header">

<!-- the pop-up menu -->
<button onclick="toggleMenu()" id="menuBtn" class="dropbtn">&#x2630;</button>
<div id="dropdown" class="dropdown-content">
    <a href="#" onclick="fetchDaily(); popdownMenu(); return false;">Fetch Feeds</a>
    <a href="#" onclick="mirrorAll(); popdownMenu(); return false;">Mirror All</a>
    <a href="#" onclick="textSize(1);  popdownMenu();">Bigger text</a>
    <a href="#" onclick="textSize(-1); popdownMenu();">Smaller text</a>
</div>

<span id="buttonbox">
<input type=button id="backBtn"    value="<<"    onclick="goBack();">
<input type=button id="tocBtn"     value="Feeds" onclick="TOCpage();">
<input type=button id="deleteBtn"  value="Del"   onclick="deleteCurFeed();">
<input type=button id="forwardBtn" value=">>"    onclick="goForward();">
</span>

</header>

<iframe id="maincontent" src="/feedread/initial.html"
 onload="iframe_onload();"
 width=100% height=100%></iframe>

<div id="statusline">:-)</div>

<!-- Disable upper left scrollarea because it makes it hard to click on links.
<div id="scrollarea_ul" class="scrollarea"></div>
-->
<div id="scrollarea_ur" class="scrollarea"></div>
<div id="scrollarea_ll" class="scrollarea"></div>
<div id="scrollarea_lr" class="scrollarea"></div>

<script>
// Request persistent storage.
// navigator.storage.persist() actually requests permanent storage permission.
// You'll also see navigator.storage.persisted() mentioned, but that just
// reports whether we already have permission, without actually requesting it.
if (navigator.storage && navigator.storage.persist)
    navigator.storage.persist().then(granted => {
        if (granted)
            console.log("Persistent storage granted");
        else {
            console.log("No persistent storage permission");
            // alert("No persistent storage permission!");
        }
    });
</script>

</body>
</html>
